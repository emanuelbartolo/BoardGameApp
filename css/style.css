/* Add your custom styles here */
body {
    padding-top: 1rem;
}
section {
    margin-bottom: 2rem;
}
.game-card {
    cursor: pointer;
}
.game-card:hover {
    background-color: #f8f9fa;
}
.game-card .card-img-top {
    width: 100%; /* Let the image fill the card's width */
    aspect-ratio: 1 / 1; /* Enforce a square aspect ratio */
    object-fit: cover; /* Crop the image to fit the square without distortion */
}
.poll-options .form-check {
    margin-bottom: 0.5rem;
}

/* --- Layout Styles --- */
.game-card.list-layout {
    display: flex;
    flex-direction: row;
    align-items: center;
    position: relative; /* For vote badge */
}
.game-card.list-layout img {
    width: 100px;
    height: 100px;
    margin-right: 1rem;
}
.game-card.list-layout .card-body {
    flex-grow: 1;
}

/* Container for image to position favorite button */
.game-card-image-container {
    position: relative;
}

/* --- Small Grid Layout Compact Styles --- */
.layout-small-grid .game-card .card-body {
    padding: 0.75rem;
}
.layout-small-grid .game-card .card-title {
    font-size: 0.9rem;
    margin-bottom: 0.25rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.layout-small-grid .game-card .card-text {
    font-size: 0.8rem;
    margin-bottom: 0.5rem;
}
.layout-small-grid .game-card .btn {
    font-size: 0.75rem;
    padding: 0.1rem 0.4rem;
}

/* Override for the favorite toggle in small grid to ensure correct sizing */
.layout-small-grid .game-card .favorite-toggle {
    font-size: 1.2rem; /* Larger star */
    width: 32px;
    height: 32px;
    padding: 0;
    position: absolute;
    right: 5px;
    bottom: 5px;
    z-index: 10;
}

/* --- Large Grid Layout Adjustments --- */
.layout-large-grid .game-card .card-body {
    padding: 0.75rem;
}
.layout-large-grid .game-card .card-title {
    font-size: 0.9rem; /* same as small grid */
    margin-bottom: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
}
.layout-large-grid .game-card .game-title-text {
    display: inline-block;
    flex: 1 1 auto;
    min-width: 0; /* allow truncation */
    white-space: nowrap; /* single line for title text only */
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Favorite button inline next to title for large grid */
.layout-large-grid .game-card .favorite-toggle {
    position: static;
    font-size: 1rem;
    width: auto !important;
    height: auto !important;
    padding: 0.15rem 0.4rem !important;
    margin-left: 0.5rem;
    background: transparent;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Make box art fully visible while keeping a square frame in large grid */
.layout-large-grid .game-card .card-img-top {
    object-fit: contain; /* show full image */
    background-color: #f3f4f6; /* neutral background behind smaller images */
}

/* Ensure active favorite button shows yellow background in large grid (more specific selector) */
.layout-large-grid .game-card .favorite-toggle.active,
.layout-large-grid .game-card .favorite-toggle.active.btn {
    background-color: #ffc107 !important;
    border-color: #ffc107 !important;
    color: #212529 !important;
}

/* Vote button styles: default white, becomes blue when 'voted' class is present */
.btn-vote {
    background-color: #ffffff;
    color: #212529;
    border: 1px solid #ced4da;
    box-shadow: none;
}
.btn-vote:hover {
    background-color: #f8f9fa;
}
.btn-vote.voted {
    background-color: var(--bs-primary);
    color: #fff;
    border-color: var(--bs-primary);
}
.btn-vote:focus {
    box-shadow: 0 0 0 0.2rem rgba(13,110,253,0.25);
}
/* Admin-created shortlist highlight (not counted as a vote) */
.btn-vote.shortlisted {
    background-color: #e9f4ff;
    color: var(--bs-primary);
    border-color: var(--bs-primary);
}

/* Favorite star button: compact icon-only with larger hit area */
.favorite-toggle {
    background: transparent;
    border: none;
    font-size: 1.1rem !important;
    padding: 6px 8px !important; /* comfortable hit area */
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
}
.favorite-toggle:focus {
    outline: 2px solid rgba(13,110,253,0.15);
    outline-offset: 2px;
}
.favorite-toggle.active {
    background-color: #ffc107;
    color: #212529;
}

/* High-contrast sign-out button on active group row */
.list-group .list-group-item.active .group-signout-btn {
    background-color: #ffffff; /* white circle to contrast the active blue */
    color: #c82333; /* bootstrap danger-ish red for the icon */
    border-color: rgba(0,0,0,0.08);
}
.list-group .list-group-item.active .group-signout-btn svg {
    filter: none; /* ensure the SVG uses currentColor */
}
.list-group .list-group-item.active .group-signout-btn:hover {
    background-color: #fff7f7;
    color: #a71d2a;
}

/* Slightly increase prominence (size) on small screens if needed */
@media (max-width: 576px) {
    .list-group .list-group-item.active .group-signout-btn {
        padding: 0.35rem 0.45rem;
    }
}

/* Login View Styles */
#login-view {
    max-width: 400px;
    margin: 2rem auto;
    padding: 2rem;
    border: 1px solid #dee2e6;
    border-radius: 0.5rem;
    background-color: #f8f9fa;
}
#login-view h2 {
    margin-bottom: 1.5rem;
    text-align: center;
}
#login-button {
    width: 100%;
    margin-top: 1rem;
}

/* Top strip and banner styles */
.top-strip {
    border-bottom: 1px solid transparent;
}
.app-banner {
    background-color: #f1f3f5; /* subtle grey */
    width: 100vw; /* span full viewport */
    margin-left: calc(50% - 50vw); /* neutralize container centering */
    margin-right: calc(50% - 50vw);
    padding: 0.5rem 0; /* vertical padding */
}
.app-banner a { text-decoration: none; }
.app-banner .app-title {
    font-family: 'Rubik', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    font-weight: 600;
    letter-spacing: 0.2px;
}

/* Next Game Night preview styles */
.next-game-night {
    align-items: center;
}
.next-game-calendar {
    width: 64px;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    padding: 6px 4px;
    background: #fff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.03);
}
.next-game-calendar .ngn-weekday {
    font-size: 0.8rem;

/* Keep nav tabs on a single line; allow horizontal scrolling instead of wrapping */
/* Stronger, more specific nav compression rules to avoid wrapping */
.container nav .nav.nav-tabs {
    display: flex !important;
    flex-wrap: nowrap !important;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}
.container nav .nav.nav-tabs .nav-item {
    flex: 0 0 auto !important; /* Prevent items from stretching/wrapping */
    white-space: nowrap !important;
}
.container nav .nav.nav-tabs .nav-link {
    padding: 0.28rem 0.46rem !important; /* compact padding */
    font-size: 0.92rem !important; /* slightly smaller to fit */
    line-height: 1 !important;
    display: inline-flex !important;
    align-items: center !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: clamp(70px, 18vw, 200px) !important;
}

/* Very small screens: compress further */
@media (max-width: 520px) {
    .container nav .nav.nav-tabs .nav-link {
        padding: 0.18rem 0.32rem !important;
        font-size: 0.82rem !important;
        max-width: clamp(50px, 28vw, 130px) !important;
    }
}

/* Extremely compact override to ensure nav tabs remain small and avoid wrapping.
   This rule is intentionally specific and uses !important so it wins over
   other theme or browser styles. If you still see large tabs, do a hard-refresh. */
.container nav .nav.nav-tabs .nav-link {
    padding: 0.08rem 0.18rem !important;
    font-size: 0.78rem !important;
    max-width: clamp(44px, 16vw, 160px) !important;
    min-width: 40px !important;
}
@media (max-width: 520px) {
    .container nav .nav.nav-tabs .nav-link {
        padding: 0.08rem 0.14rem !important;
        font-size: 0.74rem !important;
        max-width: clamp(40px, 28vw, 110px) !important;
    }
}

/* Icon/text swap: hide long text and show icon-only at narrow widths */
.container nav .nav.nav-tabs .nav-icon { display: none; }
.container nav .nav.nav-tabs .nav-text { display: inline-block; }

@media (max-width: 520px) {
    .container nav .nav.nav-tabs .nav-icon { display: inline-block; margin-right: 0.25rem; }
    .container nav .nav.nav-tabs .nav-text { display: none !important; }
    .container nav .nav.nav-tabs .nav-link { padding-left: 0.35rem !important; padding-right: 0.35rem !important; }
}
@media (max-width: 520px) {
    .nav-tabs .nav-link {
        padding: 0.25rem 0.45rem;
        font-size: 0.95rem;
    }
}

/* Compress tab labels responsively and show ellipsis when space is tight */
.nav-tabs {
    gap: 0.25rem;
}
.nav-tabs .nav-link {
    display: inline-flex;
    align-items: center;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    /* Allow the tab to scale relative to viewport but keep reasonable max */
    max-width: clamp(80px, 18vw, 220px);
}

/* Larger screens: give tabs a bit more room */
@media (min-width: 900px) {
    .nav-tabs .nav-link {
        max-width: 240px;
        padding: 0.45rem 0.75rem;
    }
}

/* Very small screens: allow slightly wider proportional space and smaller font */
@media (max-width: 520px) {
    .nav-tabs .nav-link {
        max-width: clamp(60px, 30vw, 140px);
        font-size: 0.9rem;
        padding: 0.2rem 0.35rem;
    }
}
.nav-tabs::-webkit-scrollbar {
    height: 6px;
}
.nav-tabs::-webkit-scrollbar-thumb {
    background: rgba(0,0,0,0.12);
    border-radius: 6px;
}
    color: #6c757d;
}
.next-game-calendar .ngn-day {
    font-size: 1.4rem;
    font-weight: 700;
    line-height: 1;
}
.next-game-calendar .ngn-month {
    font-size: 0.75rem;
    color: #6c757d;
}
.next-game-details .fw-bold {
    font-size: 0.95rem;
}

/* When the widget sits inline with the H2, reduce its vertical spacing */
.next-game-night { margin-left: 8px; }
.next-game-night .next-game-details { display: inline-block; vertical-align: middle; }
.next-game-calendar { display: inline-block; vertical-align: middle; }

/* Pop-out styling for Next Game Night widget */
.next-game-night {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    padding: 6px 10px;
    border-radius: 10px;
    background: linear-gradient(180deg, #ffffff, #fbfcfd);
    box-shadow: 0 6px 18px rgba(13,110,253,0.08), 0 2px 6px rgba(0,0,0,0.04);
    transition: transform 150ms ease, box-shadow 150ms ease;
    cursor: pointer; /* hint interactive */
    border: 1px solid rgba(13,110,253,0.06);
}

.next-game-night:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 30px rgba(13,110,253,0.12), 0 4px 10px rgba(0,0,0,0.06);
}

/* Calendar block */
.next-game-calendar {
    min-width: 72px;
    padding: 8px 6px;
    border-radius: 8px;
    background: #fff;
    text-align: center;
    border: 1px solid #e9eef8;
    box-shadow: inset 0 -1px 0 rgba(0,0,0,0.02);
    position: relative;
}

.next-game-calendar::before {
    content: '';
    display:block;
    width:6px;
    background: linear-gradient(180deg, #0d6efd, #0056d6);
    border-top-left-radius: 8px;
    border-bottom-left-radius: 8px;
    position: absolute;
    left: -6px; /* visually attached */
    top: 6px;   /* inset so stripe doesn't exceed calendar vertically */
    bottom: 6px;
}

.next-game-calendar .ngn-weekday {
    font-size: 0.75rem;
    color: #495057;
    font-weight: 600;
}
.next-game-calendar .ngn-day {
    font-size: 1.6rem;
    font-weight: 800;
    color: #111827;
    line-height: 1;
}
.next-game-calendar .ngn-month {
    font-size: 0.75rem;
    color: #6c757d;
    letter-spacing: 0.06em;
}

.next-game-details .fw-bold {
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 2px;
}
.next-game-details .text-muted.small {
    color: #6c757d;
    font-size: 0.85rem;
}

@media (max-width: 520px) {
    .next-game-calendar { min-width: 60px; padding: 6px 4px; }
    .next-game-calendar .ngn-day { font-size: 1.2rem; }
}

/* Right-side label sizing/alignment next to widget */
#next-game-label {
    min-width: 110px;
    text-align: right;
}

@media (max-width: 576px) {
    #next-game-label { display: none; }
}

/* Responsive Adjustments for buttons */
@media (max-width: 767.98px) {
    .game-card .d-flex.gap-2 {
        flex-wrap: wrap; /* Allow buttons to wrap to next line if needed */
        gap: 0.5rem !important; /* Adjust gap for wrapped items */
    }
    /* Further adjust button sizing for mobile if necessary */
    .game-card .btn, .game-card .badge {
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
    }
}

/* Vote count badge for shortlist */
.vote-count-badge {
    position: absolute;
    top: 5px;
    left: 5px;
    background-color: var(--bs-primary);
    color: white;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    font-weight: bold;
    z-index: 10;
    border: 2px solid white;
}

.voter-names {
    font-size: 0.9rem;
    color: #6c757d;
}

.vote-count-badge.top-voted {
    background-color: #ffc107;
    color: #212529;
}

/* Temporary highlight for navigated-to event */
.highlighted-event {
    animation: highlight-pulse 3s ease-in-out forwards;
    box-shadow: 0 6px 20px rgba(13,110,253,0.12);
    border-radius: 8px;
    background-color: #fffbea;
}

@keyframes highlight-pulse {
    0% { box-shadow: 0 0 0 0 rgba(13,110,253,0.18); }
    30% { box-shadow: 0 8px 24px rgba(13,110,253,0.12); }
    100% { box-shadow: 0 0 0 0 rgba(13,110,253,0); }
}


